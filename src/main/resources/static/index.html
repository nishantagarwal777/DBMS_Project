<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0rc1/angular-route.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.js"></script>
	<!-- <script src="js/dist/angular-chart.js"></script>--> 
  	<!-- <script src="js/dist/angular-chart.min.js"></script> -->
	<title>Home</title>
    
	<script src="js/angular-ui-bootstrap-modal.js"></script>
	<script src="js/angular-chart/angular-chart.min.js"></script>
    <!-- Bootstrap Core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Theme CSS -->
    <link href="style/freelancer.min.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">

	<link href="style/app.css" rel="stylesheet">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	<link rel="stylesheet" type="text/css" href="style/loginModal.css">
	<script>

var app = angular.module('myApp', ['ui.bootstrap.modal', 'chart.js']);
app.controller('myCtrl', ['$scope', '$http', function($scope, $http) {
	$scope.user = undefined;
	$scope.loginStatus  = false;
	
	$scope.backPage = function() {
		$scope.pageSelect = 1;
	}

	$scope.openLoginModal = function(){
		$scope.login = undefined;
		$scope.loginModal = true;
		
	}
	
	$scope.openSignUpModal = function(){
		$scope.singUp = undefined;
		$scope.signUpModal = true;
		
	}
	
	$scope.loginUser = function(){
		$http({
	        method : "POST",
	        url : "login",
	        data : {
	        	'emailId' : $scope.login.emailId,
	        	'password' : $scope.login.password
	        }
	    }).then(function(response) {
        	$scope.user = response.data;
        	if($scope.user.errorStatus == 1){
        		console.log($scope.user);
        		$scope.loginError = undefined;
        		$scope.loginModal = false;
        		$scope.loginStatus  = true;
        	}
        	else{
        		$scope.loginStatus  = false;
        		$scope.loginModal = true;
        	}
    	});
	}
		$scope.signUp = function(){
			$http({
		        method : "POST",
		        url : "signUp",
		        data : {
		        	'firstName' : $scope.signUp.firstName,
		        	'lastName' : $scope.signUp.lastName,
		        	'phoneNumber' : $scope.signUp.phoneNumber,
		        	'emailId' : $scope.signUp.emailId,
		        	'password' : $scope.signUp.password
		        }
		    }).then(function(response) {
	        	$scope.user = response.data;
	        	$scope.signUpModal = false;
	        	$scope.loginStatus  = true;
	    	});
		}
		
		$scope.logoutUser = function(){
			$scope.user = undefined;
			$scope.loginStatus = false;
			$scope.user = undefined;
		}
	
		$scope.getPopularProperties = function(){
			$http({
				method : "GET",
				url: "getPopularProperties"
			}).then(function(response){
				var images = ['prop1.jpg', 'prop2.jpg', 'prop3.jpg', 'prop4.jpg', 'prop5.jpg', 'prop6.png'];
				$scope.properties = response.data;
				console.log($scope.properties);
				for(i = 0; i<6 ;i++){
					$scope.properties[i].image = images[i];
				}
			})
		} 
		
				
		$scope.setProperty = function(index){
			console.log(index);
			$scope.property = $scope.properties[index];
			console.log($scope.property);
		}
		
		$scope.getPopularProperties();
		
		$scope.labels = ["Detroit", "San Diego","Nebraska","San Francisco","Mississippi"];
		$scope.propertyData = [10,35,15,45,25];
		
}]);
</script>
</head>

<body id="page-top" class="index" ng-app="myApp" ng-controller="myCtrl">
<div id="skipnav"><a href="#maincontent">Skip to main content</a></div>

    <!-- Navigation -->
    <nav id="mainNav" class="navbar navbar-default navbar-fixed-top navbar-custom">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span> Menu <i class="fa fa-bars"></i>
                </button>
                <a class="navbar-brand" href="#page-top">GharWaale.com</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" ng-if = "loginStatus == false">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#" ng-click="openLoginModal();">Login</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#" ng-click="openSignUpModal();">Sign Up</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#about">About</a>
                    </li>
                </ul>
            </div>
            
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" ng-if = "loginStatus == true">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    <li class="page-scroll">
                        <a href="#">Welcome, {{user.firstName}} {{user.lastName}}</a>
                    </li>
                    <li class="page-scroll">
                        <a href="#" ng-click="logoutUser();">Log Out</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

	<div class="modal fade" modal="loginModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
   	  <div class="modal-dialog">
   		<div class="loginmodal-container">
	   		<button type="button" class="close" ng-click="loginModal = false">&times;</button>
       		<h1>Login</h1><br>
			  <form name = "loginForm">
				<input type="text" name="user" placeholder="Username" data-ng-model="login.emailId" ng-required>
				<input type="password" name="pass" placeholder="Password" data-ng-model="login.password" ng-required>
				<div class="login-error" ng-show="user.errorStatus == 0">{{user.errorMessage}}</div> 
				<input type="button" name="login" class="login loginmodal-submit" value="Login" ng-click = "loginUser();" ng-disabled="loginForm.$invalid" >
			  </form>
			  	
			  <div class="login-help">
				<a href="#">Register</a> - <a href="#">Forgot Password</a>
			  </div>
			</div>
		</div>
	  </div>
	<div ng-view="">
    <!-- Header -->
    <header>
        <div class="container" id="maincontent" tabindex="-1">
            <div class="row">
                <div class="col-lg-12">
                    <img class="img-responsive" ng-src="img/profile.png" alt="">
                    <div class="intro-text">
                        <h1 class="name">GharWaale.com</h1>
                        <hr class="star-light">
                        <span class="skills">Buy - Sell - Estimate</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Property Grid Section -->
    <section id="portfolio">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Homes</h2>
                    <hr class="star-primary">
                </div>
            </div>
            <div class="row">
            	<div ng-repeat="property in properties ">
	                <div class="col-sm-4 portfolio-item">
	                    <a href="#portfolioModal" class="portfolio-link" data-toggle="modal" ng-click="setProperty($index)">
	                        <div class="caption">
	                            <div class="caption-content text-left">
	                            	<i class="fa fa-bed"> {{property.numberOfBedrooms}}</i><br>
	                           		<i class="fa fa-dollar"> {{property.price}}</i><br>
	                            	
	                            </div>
	                        </div>
	                        <img src="/img/{{property.image}}" class="img-responsive" >
	                    </a>
	                </div>
                </div>
            </div>
        </div>
    </section>
    
    <section class="success" id="charts">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Charts</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row" >
            
                <canvas id = "pie" width='1200' height='300' class="chart chart-pie"	chart-data="propertyData" chart-labels="labels" chart-option="options">
    				</canvas>
             
            </div>
        </div>
    </section>
<<

    <!-- About Section -->
    <section class="portfolio" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>About</h2>
                    <hr class="star-light">
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-lg-offset-2">
                    <p>Buy, Sell or Estimate! We are the whole package! At GharWaale.com, we let you post your cherished properties for sale, connect you to 
                    other sellers, and even let you get an estimate of your current property on the basis of past sales.</p>
                </div>
                <div class="col-lg-4">
                    <p>No need to contact other brokers, pay excessive brokerage and run helter skelter just for a price estimate. Use GharWaale.com today to fulfill
                    your wishes and live in the palace of your dreams!</p>
                </div>
             
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <div class="modal fade" modal="signUpModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
   	  <div class="modal-dialog ">
        <div class="signUpModal-container">
        <button type="button" class="close" ng-click="signUpModal = false">&times;</button>
         
                <div class="col-lg-12 text-center">
                    <h2>Sign Up</h2>
                    <hr class="star-primary">
                </div>
           
            
                
                    <!-- To configure the contact form email address, go to mail/contact_me.php and update the email address in the PHP file on line 19. -->
                    <!-- The form should work on most web servers, but if the form is not working you may need to configure your web server differently. -->
                    <form name="signUpForm" id="signUpForm" validate>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label for="firstName">First Name</label>
                                <input type="text" class="form-control input-text" placeholder="First Name" id="firstName" data-ng-model="signUp.firstName" required data-validation-required-message="Please enter your first name.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label for="lastName">Last Name</label>
                                <input type="text" class="form-control input-text" placeholder="Last Name" id="lastName"  data-ng-model="signUp.lastName" required data-validation-required-message="Please enter your last name.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label for="phone">Phone Number</label>
                                <input type="tel" class="form-control" placeholder="Phone Number" id="phone"  data-ng-model="signUp.phoneNumber" required data-validation-required-message="Please enter your phone number.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label for="email">Email Address</label>
                                <input type="email" class="form-control" placeholder="Email Address" id="email"  data-ng-model="signUp.emailId" required data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="row control-group">
                            <div class="form-group col-xs-12 floating-label-form-group controls">
                                <label for="password">Password</label>
                                <input type="password" class="form-control input-text" placeholder="Password" id="password"  data-ng-model="signUp.password" required data-validation-required-message="Please enter your password.">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <br>
                        <div class="form-group col-xs-12">
                                <button type="submit" class="btn btn-success btn-lg" ng-click="signUp();" ng-disabled="signUpForm.invalid">Sign Up</button>
                            </div>
                        
                    </form>
                </div>
            </div>
        </div>
    
    
	</div>
    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-above">
            <div class="container">
                <div class="row">
                    <div class="footer-col col-md-4">
                        <h3>Location</h3>
                        <p>4000 SW 37th Blvd
                            <br>Gainesville, FL 32608</p>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>Around the Web</h3>
                        <ul class="list-inline">
                            <li>
                                <a href="#" class="btn-social btn-outline"><span class="sr-only">Facebook</span><i class="fa fa-fw fa-facebook"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><span class="sr-only">Google Plus</span><i class="fa fa-fw fa-google-plus"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><span class="sr-only">Twitter</span><i class="fa fa-fw fa-twitter"></i></a>
                            </li>
                            <li>
                                <a href="#" class="btn-social btn-outline"><span class="sr-only">Linked In</span><i class="fa fa-fw fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                    <div class="footer-col col-md-4">
                        <h3>About GharWaale</h3>
                        <p>GharWaale is an online platform to buy and sell real estate as well as predict prices.</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Your Website 2016
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
    <div class="scroll-top page-scroll hidden-sm hidden-xs hidden-lg hidden-md">
        <a class="btn btn-primary" href="#page-top">
            <i class="fa fa-chevron-up"></i>
        </a>
    </div>

    <!-- Portfolio Modals -->
    <div class="portfolio-modal modal fade" id="portfolioModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content" style="padding:20px">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <img ng-src="img/{{property.image}}" class="img-responsive img-centered" style="width:75%;height:75%;" alt="">
                            <p>{{property.description}}</p>
                            <ul class="list-inline item-details">
                                <li>Year Built:
                                    <strong>{{property.yearBuilt}}
                                    </strong>
                                </li>
                                <li>Sq. Ft:
                                    <strong>{{property.squareFeet}}
                                    </strong>
                                </li>
                                <li>Price:
                                    <strong>{{property.price}}
                                    </strong>
                                </li>
                                <li>Bedrooms:
                                    <strong>{{property.numberOfBedrooms}}
                                    </strong>
                                </li>
                                <li>Bathrooms:
                                    <strong>{{property.numberOfBathrooms}}
                                    </strong>
                                </li>
                                <li>Floors:
                                    <strong>{{property.numberOfFloors}}
                                    </strong>
                                </li>
                            </ul>
                            <button type="button" class="btn btn-success" data-dismiss="modal"><i class="fa fa-check"></i> Buy</button>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    

    <!-- jQuery -->
    <script src="vendor/jquery/jquery.min.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Theme JavaScript -->
    <script src="js/freelancer.min.js"></script>

</body>

</html>